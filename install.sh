#!/bin/sh

######################################################################
# Jest to skrypt wypakowujacy nastepujace pliki:                     #
#                                                                    #
#      Rozmiar |  Atrybuty  | Nazwa                                  #
#       9311 B | -rwxr-xr-x | qshar                                  #
#       1683 B | -rw-r--r-- | qshar.1                                #
#                                                                    #
# Uruchomic mozna go poprzez:                                        #
#     $ sh/bash <skrypt>                                             #
#     $ chmod +x <skrypt> ; ./<skrypt                                #
#                                                                    #
# Uzywane w skrypcie programy:                                       #
#     printf                                                         #
#     if [ ... ] ; then ... ; (else ... ; ) fi                       #
#     while [ ... ] ; do ... ; done                                  #
#     mkdir (-p)                                                     #
#     chmod                                                          #
#     md5sum (gdy jest)                                              #
#                                                                    #
# Wersja programu archiwizujacego qshar: 1.6                         #
# Autor programu archiwizujacego: quetzelcoatlus, AD 2018            #
######################################################################

# Folder, do ktorego wypakowane zostanie archiwum.
dir="tmp"

# Test na obecnosc programu md5sum uzywanego do zweryfikowania poprawnosci pliku (opcjonalne).
if (printf "a" | md5sum -b > /dev/null 2>/dev/null)
then
	md5="md5sum -b"
else
	md5=""
fi

# Sprawdzenie, czy istnieje juz katalog o takiej nazwie. Jesli tak, to dopisujemy do jego nazwy liczbe naturalna po myslniku. Do skutku.
if [ -d "$dir" ]
then
	i=1
	while [ -d "$dir-$i" ]
	do
		i=$((i+1))
	done
	dir="$dir-$i"
fi

# Tworzenie katalogu, a nastepnie sprawdzenie, czy sie dobrze utworzyl.
printf "Tworzenie katalogu $dir -> "
mkdir "$dir"

if [ -d "$dir" ]
then
	printf "OK\n"
else
	printf "(!)ERROR(!)\n"
	exit 1
fi

############################################# qshar #############################################

# Wyluskanie 'sciezki katalogu pliku' z 'sciezki pliku'.
getdir="qshar"
if [ "$getdir" = "qshar" ]
then
	getdir="."
fi

# Katalog nowego pliku = 'katalog do ktorego wypakowujemy plik'+'/'+'stary katalog pliku'.
filedir="$dir/$getdir"

# Jezeli go nie ma, to nalezy go utworzyc.
if [ ! -d "$filedir" ]
then
	printf "\nTworzenie katalogu $filedir -> "
	mkdir -p "$filedir"
	if [ -d "$filedir" ]
	then
		printf "OK\n"
	else
		printf "(!)ERROR(!)\n"
	fi
fi

printf "Wypakowywanie pliku $dir/qshar -> "

# Jedna dluga linijka wkladajaca do wyjsciowego pliku bajty oryginalnego pliku zapisane szesnastkowo.
printf "\43\41\57\142\151\156\57\163\150\12\12\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\12\43\40\120\162\157\147\162\141\155\40\144\157\40\141\162\143\150\151\167\151\172\141\143\152\151\40\160\154\151\153\157\167\54\40\147\145\156\145\162\165\152\141\143\171\40\163\153\162\171\160\164\40\167\171\160\141\153\157\167\165\152\141\143\171\56\40\40\40\40\40\40\40\43\12\43\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\43\12\43\40\123\160\157\163\157\142\40\165\172\171\143\151\141\72\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\43\12\43\40\40\40\40\40\161\163\150\141\162\40\74\156\141\172\167\141\40\141\162\143\150\151\167\165\155\76\40\74\154\151\163\164\141\40\160\154\151\153\157\167\57\146\157\154\144\145\162\157\167\76\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\43\12\43\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\43\12\43\40\125\172\171\167\141\156\145\40\167\40\163\153\162\171\160\143\151\145\40\160\162\157\147\162\141\155\171\72\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\43\12\43\40\40\40\40\40\151\146\54\40\167\150\151\154\145\54\40\146\157\162\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\43\12\43\40\40\40\40\40\160\162\151\156\164\146\54\40\163\150\151\146\164\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\43\12\43\40\40\40\40\40\154\163\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\43\12\43\40\40\40\40\40\141\167\153\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\43\12\43\40\40\40\40\40\143\165\164\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\43\12\43\40\40\40\40\40\145\166\141\154\40\50\165\162\165\143\150\141\155\151\141\156\151\145\40\153\157\155\145\156\144\171\40\172\145\40\172\155\151\145\156\156\145\152\51\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\43\12\43\40\40\40\40\40\163\164\141\164\40\50\141\164\162\171\142\165\164\171\40\151\40\162\157\172\155\151\141\162\40\160\154\151\153\165\51\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\43\12\43\40\40\40\40\40\155\144\65\163\165\155\40\50\163\165\155\141\40\153\157\156\164\162\157\154\156\141\40\144\154\141\40\153\141\172\144\145\147\157\40\160\154\151\153\165\51\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\43\12\43\40\40\40\40\40\150\145\170\144\165\155\160\40\57\40\157\144\40\50\172\162\172\165\164\40\142\141\152\164\157\167\40\156\141\40\163\171\163\164\145\155\40\157\163\145\155\153\157\167\171\51\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\43\12\43\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\43\12\43\40\127\145\162\163\152\141\72\40\61\56\66\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\43\12\43\40\101\165\164\157\162\72\40\161\165\145\164\172\145\154\143\157\141\164\154\165\163\54\40\101\104\40\62\60\61\70\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\40\43\12\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\12\12\12\43\40\163\153\162\171\160\164\40\160\162\172\171\152\155\165\152\145\40\143\157\40\156\141\152\155\156\151\145\152\40\62\40\160\141\162\141\155\145\164\162\171\12\151\146\40\133\40\44\173\43\100\175\40\55\154\164\40\62\40\135\12\164\150\145\156\12\40\40\40\40\160\162\151\156\164\146\40\42\123\153\162\171\160\164\40\155\165\163\151\40\157\164\162\172\171\155\141\143\40\143\157\40\156\141\152\155\156\151\145\152\40\144\167\141\40\160\141\162\141\155\145\164\162\171\72\40\156\141\172\167\145\40\141\162\143\150\151\167\165\155\40\157\162\141\172\40\156\141\172\167\145\40\160\154\151\153\165\56\40\113\157\156\143\172\145\156\151\145\40\160\162\141\143\171\56\134\156\42\12\40\40\40\40\145\170\151\164\40\61\12\146\151\12\12\43\40\163\153\162\171\160\164\40\167\171\160\141\153\157\167\165\152\141\143\171\40\142\145\144\172\151\145\40\155\151\141\154\40\156\141\172\167\145\40\172\40\44\61\40\53\40\42\56\163\150\42\12\146\151\154\145\75\42\44\61\56\163\150\42\12\12\43\40\160\154\151\153\151\40\142\145\144\141\40\167\171\160\141\153\157\167\171\167\141\156\145\40\144\157\40\146\157\154\144\145\162\165\40\172\40\44\61\12\144\151\162\75\42\44\61\42\12\12\43\40\160\162\172\145\163\165\167\141\155\171\40\141\162\147\165\155\145\156\164\171\12\163\150\151\146\164\12\12\43\40\165\163\164\141\167\151\145\156\151\145\40\160\162\157\147\162\141\155\165\40\144\157\40\172\162\172\165\164\165\40\160\154\151\153\157\167\40\167\40\160\157\163\164\141\143\40\157\163\145\155\153\157\167\141\56\40\104\157\155\171\163\154\156\151\145\40\156\141\152\160\151\145\162\167\40\157\144\54\40\160\157\164\145\155\40\150\145\170\144\165\155\160\56\12\151\146\40\50\160\162\151\156\164\146\40\42\141\42\40\174\40\150\145\170\144\165\155\160\40\55\55\156\157\55\163\161\165\145\145\172\151\156\147\40\55\55\146\157\162\155\141\164\40\47\61\57\61\40\42\45\157\134\156\42\47\76\40\57\144\145\166\57\156\165\154\154\40\62\76\57\144\145\166\57\156\165\154\154\51\12\164\150\145\156\12\40\40\40\40\157\143\164\144\165\155\160\75\42\150\145\170\144\165\155\160\40\55\166\40\55\145\40\47\61\57\61\40\134\42\45\157\134\156\134\42\47\42\12\145\154\151\146\40\50\160\162\151\156\164\146\40\42\141\42\40\174\40\157\144\40\55\55\141\144\144\162\145\163\163\55\162\141\144\151\170\75\156\40\55\55\157\165\164\160\165\164\55\144\165\160\154\151\143\141\164\145\163\40\55\55\146\157\162\155\141\164\75\157\61\40\55\55\167\151\144\164\150\75\61\40\76\40\57\144\145\166\57\156\165\154\154\40\62\76\57\144\145\166\57\156\165\154\154\51\12\164\150\145\156\40\40\40\40\12\40\40\40\40\157\143\164\144\165\155\160\75\42\157\144\40\55\101\156\40\55\166\40\55\164\157\61\40\55\167\61\42\12\145\154\163\145\12\40\40\40\40\160\162\151\156\164\146\40\42\102\162\141\153\40\152\141\153\151\145\147\157\153\157\154\167\151\145\153\40\160\162\157\147\162\141\155\165\40\144\157\40\153\157\156\167\145\162\163\152\151\40\142\141\152\164\157\167\40\156\141\40\163\171\163\164\145\155\40\157\163\145\155\153\157\167\171\72\40\47\150\145\170\144\165\155\160\47\40\154\165\142\40\47\157\144\47\56\40\113\157\156\143\172\145\156\151\145\40\160\162\141\143\171\40\163\153\162\171\160\164\165\56\134\156\42\12\40\40\40\40\145\170\151\164\40\62\12\146\151\12\12\12\43\40\167\171\160\151\163\141\156\151\145\40\44\61\40\150\141\163\172\171\54\40\141\40\160\157\164\145\155\40\145\156\164\145\162\56\40\104\157\40\162\171\163\157\167\141\156\151\141\40\142\157\170\141\56\40\72\63\12\156\137\150\141\163\150\145\163\40\50\51\40\173\12\40\40\40\40\151\75\61\12\40\40\40\40\167\150\151\154\145\40\133\40\44\151\40\55\154\145\40\44\61\40\135\12\40\40\40\40\144\157\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\42\43\42\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\151\75\44\50\50\151\53\61\51\51\12\40\40\40\40\144\157\156\145\12\40\40\40\40\160\162\151\156\164\146\40\42\134\156\42\40\76\76\40\44\62\12\175\12\12\43\40\167\171\160\151\163\141\156\151\145\40\44\61\40\163\160\141\143\152\151\54\40\141\40\160\157\164\145\155\40\43\134\156\56\40\120\157\164\162\172\145\142\156\145\40\144\157\40\147\145\156\145\162\157\167\141\156\151\141\40\156\141\147\154\157\167\153\141\40\160\154\151\153\165\40\167\171\156\151\153\157\167\145\147\157\56\12\150\141\163\150\137\141\146\164\145\162\137\163\160\141\143\145\163\40\50\51\40\173\12\40\40\40\40\151\75\61\12\40\40\40\40\167\150\151\154\145\40\133\40\44\151\40\55\154\145\40\44\61\40\135\12\40\40\40\40\144\157\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\42\40\42\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\151\75\44\50\50\151\53\61\51\51\12\40\40\40\40\144\157\156\145\12\40\40\40\40\160\162\151\156\164\146\40\42\43\134\156\42\40\76\76\40\44\62\12\175\12\12\43\40\167\171\160\151\163\171\167\141\156\151\145\40\163\164\141\164\171\163\164\171\153\40\160\154\151\153\165\56\40\106\165\156\153\143\152\141\40\165\155\157\172\154\151\167\151\141\40\162\145\153\165\162\145\156\143\152\145\40\167\40\160\162\172\171\160\141\144\153\165\40\160\154\151\153\165\40\167\40\146\157\154\144\145\162\172\145\12\147\145\164\137\163\164\141\164\163\40\50\51\40\173\12\40\40\40\40\151\146\40\133\40\55\144\40\44\61\40\135\40\12\40\40\40\40\164\150\145\156\12\40\40\40\40\40\40\40\40\146\157\162\40\146\40\151\156\40\44\50\154\163\40\44\61\51\12\40\40\40\40\40\40\40\40\144\157\12\40\40\40\40\40\40\40\40\40\40\40\40\147\145\164\137\163\164\141\164\163\40\42\44\61\57\44\146\42\40\44\62\12\40\40\40\40\40\40\40\40\144\157\156\145\12\40\40\40\40\145\154\151\146\40\133\40\55\146\40\44\61\40\135\40\12\40\40\40\40\164\150\145\156\12\40\40\40\40\40\40\40\40\156\141\155\145\75\44\61\12\40\40\40\40\40\40\40\40\43\40\152\145\163\154\151\40\156\141\172\167\141\40\160\154\151\153\165\40\152\145\163\164\40\172\141\40\144\165\172\141\40\144\154\141\40\162\141\155\153\151\54\40\164\157\40\157\142\143\151\156\141\155\171\40\72\51\12\40\40\40\40\40\40\40\40\151\146\40\133\40\44\173\43\156\141\155\145\175\40\55\147\145\40\63\71\40\135\12\40\40\40\40\40\40\40\40\164\150\145\156\12\40\40\40\40\40\40\40\40\40\40\40\40\156\141\155\145\75\44\50\160\162\151\156\164\146\40\44\156\141\155\145\40\174\40\143\165\164\40\55\143\40\55\63\65\51\12\40\40\40\40\40\40\40\40\40\40\40\40\156\141\155\145\75\42\44\156\141\155\145\42\42\56\56\56\42\12\40\40\40\40\40\40\40\40\146\151\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\42\43\40\45\61\60\144\40\102\40\174\40\44\50\163\164\141\164\40\55\143\40\45\101\40\44\61\51\40\174\40\44\156\141\155\145\42\40\44\50\163\164\141\164\40\55\143\40\45\163\40\44\61\51\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\150\141\163\150\137\141\146\164\145\162\137\163\160\141\143\145\163\40\44\50\50\63\71\55\44\173\43\156\141\155\145\175\51\51\40\44\62\12\40\40\40\40\146\151\12\175\12\12\160\162\151\156\164\146\40\42\43\41\57\142\151\156\57\163\150\134\156\134\156\42\40\76\40\44\146\151\154\145\12\12\156\137\150\141\163\150\145\163\40\67\60\40\44\146\151\154\145\12\12\160\162\151\156\164\146\40\42\43\40\112\145\163\164\40\164\157\40\163\153\162\171\160\164\40\167\171\160\141\153\157\167\165\152\141\143\171\40\156\141\163\164\145\160\165\152\141\143\145\40\160\154\151\153\151\72\42\40\76\76\40\44\146\151\154\145\12\150\141\163\150\137\141\146\164\145\162\137\163\160\141\143\145\163\40\62\61\40\44\146\151\154\145\12\12\160\162\151\156\164\146\40\42\43\42\40\76\76\40\44\146\151\154\145\12\150\141\163\150\137\141\146\164\145\162\137\163\160\141\143\145\163\40\66\70\40\44\146\151\154\145\12\12\160\162\151\156\164\146\40\42\43\40\40\40\40\40\40\122\157\172\155\151\141\162\40\174\40\40\101\164\162\171\142\165\164\171\40\40\174\40\116\141\172\167\141\42\40\76\76\40\44\146\151\154\145\12\150\141\163\150\137\141\146\164\145\162\137\163\160\141\143\145\163\40\63\64\40\44\146\151\154\145\12\12\146\157\162\40\166\141\162\40\151\156\40\42\44\100\42\40\12\144\157\12\40\40\40\40\147\145\164\137\163\164\141\164\163\40\44\166\141\162\40\44\146\151\154\145\12\144\157\156\145\12\12\160\162\151\156\164\146\40\42\43\42\40\76\76\40\44\146\151\154\145\12\150\141\163\150\137\141\146\164\145\162\137\163\160\141\143\145\163\40\66\70\40\44\146\151\154\145\12\12\160\162\151\156\164\146\40\47\43\40\125\162\165\143\150\157\155\151\143\40\155\157\172\156\141\40\147\157\40\160\157\160\162\172\145\172\72\47\40\76\76\40\44\146\151\154\145\12\150\141\163\150\137\141\146\164\145\162\137\163\160\141\143\145\163\40\64\60\40\44\146\151\154\145\12\12\160\162\151\156\164\146\40\47\43\40\40\40\40\40\44\40\163\150\57\142\141\163\150\40\74\163\153\162\171\160\164\76\47\40\76\76\40\44\146\151\154\145\12\150\141\163\150\137\141\146\164\145\162\137\163\160\141\143\145\163\40\64\65\40\44\146\151\154\145\12\12\160\162\151\156\164\146\40\47\43\40\40\40\40\40\44\40\143\150\155\157\144\40\53\170\40\74\163\153\162\171\160\164\76\40\73\40\56\57\74\163\153\162\171\160\164\47\40\76\76\40\44\146\151\154\145\12\150\141\163\150\137\141\146\164\145\162\137\163\160\141\143\145\163\40\63\62\40\44\146\151\154\145\12\12\160\162\151\156\164\146\40\42\43\42\40\76\76\40\44\146\151\154\145\12\150\141\163\150\137\141\146\164\145\162\137\163\160\141\143\145\163\40\66\70\40\44\146\151\154\145\12\12\160\162\151\156\164\146\40\42\43\40\125\172\171\167\141\156\145\40\167\40\163\153\162\171\160\143\151\145\40\160\162\157\147\162\141\155\171\72\42\40\76\76\40\44\146\151\154\145\12\150\141\163\150\137\141\146\164\145\162\137\163\160\141\143\145\163\40\63\71\40\44\146\151\154\145\12\12\160\162\151\156\164\146\40\42\43\40\40\40\40\40\160\162\151\156\164\146\42\40\76\76\40\44\146\151\154\145\12\150\141\163\150\137\141\146\164\145\162\137\163\160\141\143\145\163\40\65\67\40\44\146\151\154\145\12\12\160\162\151\156\164\146\40\47\43\40\40\40\40\40\151\146\40\133\40\56\56\56\40\135\40\73\40\164\150\145\156\40\56\56\56\40\73\40\50\145\154\163\145\40\56\56\56\40\73\40\51\40\146\151\47\40\76\76\40\44\146\151\154\145\12\150\141\163\150\137\141\146\164\145\162\137\163\160\141\143\145\163\40\62\63\40\44\146\151\154\145\12\12\160\162\151\156\164\146\40\47\43\40\40\40\40\40\167\150\151\154\145\40\133\40\56\56\56\40\135\40\73\40\144\157\40\56\56\56\40\73\40\144\157\156\145\47\40\76\76\40\44\146\151\154\145\12\150\141\163\150\137\141\146\164\145\162\137\163\160\141\143\145\163\40\63\64\40\44\146\151\154\145\12\12\160\162\151\156\164\146\40\47\43\40\40\40\40\40\155\153\144\151\162\40\50\55\160\51\47\40\76\76\40\44\146\151\154\145\12\150\141\163\150\137\141\146\164\145\162\137\163\160\141\143\145\163\40\65\63\40\44\146\151\154\145\12\12\160\162\151\156\164\146\40\47\43\40\40\40\40\40\143\150\155\157\144\47\40\76\76\40\44\146\151\154\145\12\150\141\163\150\137\141\146\164\145\162\137\163\160\141\143\145\163\40\65\70\40\44\146\151\154\145\12\12\160\162\151\156\164\146\40\47\43\40\40\40\40\40\155\144\65\163\165\155\40\50\147\144\171\40\152\145\163\164\51\47\40\76\76\40\44\146\151\154\145\12\150\141\163\150\137\141\146\164\145\162\137\163\160\141\143\145\163\40\64\66\40\44\146\151\154\145\12\12\160\162\151\156\164\146\40\42\43\42\40\76\76\40\44\146\151\154\145\12\150\141\163\150\137\141\146\164\145\162\137\163\160\141\143\145\163\40\66\70\40\44\146\151\154\145\12\12\160\162\151\156\164\146\40\42\43\40\127\145\162\163\152\141\40\160\162\157\147\162\141\155\165\40\141\162\143\150\151\167\151\172\165\152\141\143\145\147\157\40\161\163\150\141\162\72\40\61\56\66\42\40\76\76\40\44\146\151\154\145\12\150\141\163\150\137\141\146\164\145\162\137\163\160\141\143\145\163\40\62\65\40\44\146\151\154\145\12\12\160\162\151\156\164\146\40\42\43\40\101\165\164\157\162\40\160\162\157\147\162\141\155\165\40\141\162\143\150\151\167\151\172\165\152\141\143\145\147\157\72\40\161\165\145\164\172\145\154\143\157\141\164\154\165\163\54\40\101\104\40\62\60\61\70\42\40\76\76\40\44\146\151\154\145\12\150\141\163\150\137\141\146\164\145\162\137\163\160\141\143\145\163\40\61\62\40\44\146\151\154\145\12\12\156\137\150\141\163\150\145\163\40\67\60\40\44\146\151\154\145\12\12\12\160\162\151\156\164\146\40\47\134\156\43\40\106\157\154\144\145\162\54\40\144\157\40\153\164\157\162\145\147\157\40\167\171\160\141\153\157\167\141\156\145\40\172\157\163\164\141\156\151\145\40\141\162\143\150\151\167\165\155\56\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\42\144\151\162\75\134\42\44\144\151\162\134\42\134\156\134\156\42\40\76\76\40\44\146\151\154\145\12\12\160\162\151\156\164\146\40\47\43\40\124\145\163\164\40\156\141\40\157\142\145\143\156\157\163\143\40\160\162\157\147\162\141\155\165\40\155\144\65\163\165\155\40\165\172\171\167\141\156\145\147\157\40\144\157\40\172\167\145\162\171\146\151\153\157\167\141\156\151\141\40\160\157\160\162\141\167\156\157\163\143\151\40\160\154\151\153\165\40\50\157\160\143\152\157\156\141\154\156\145\51\56\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\47\151\146\40\50\160\162\151\156\164\146\40\42\141\42\40\174\40\155\144\65\163\165\155\40\55\142\40\76\40\57\144\145\166\57\156\165\154\154\40\62\76\57\144\145\166\57\156\165\154\154\51\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\47\164\150\145\156\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\47\134\164\155\144\65\75\42\155\144\65\163\165\155\40\55\142\42\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\47\145\154\163\145\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\47\134\164\155\144\65\75\42\42\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\47\146\151\134\156\134\156\47\40\76\76\40\44\146\151\154\145\12\12\12\160\162\151\156\164\146\40\47\43\40\123\160\162\141\167\144\172\145\156\151\145\54\40\143\172\171\40\151\163\164\156\151\145\152\145\40\152\165\172\40\153\141\164\141\154\157\147\40\157\40\164\141\153\151\145\152\40\156\141\172\167\151\145\56\40\112\145\163\154\151\40\164\141\153\54\40\164\157\40\144\157\160\151\163\165\152\145\155\171\40\144\157\40\152\145\147\157\40\156\141\172\167\171\40\154\151\143\172\142\145\40\156\141\164\165\162\141\154\156\141\40\160\157\40\155\171\163\154\156\151\153\165\56\40\104\157\40\163\153\165\164\153\165\56\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\47\151\146\40\133\40\55\144\40\42\44\144\151\162\42\40\135\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\47\164\150\145\156\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\47\134\164\151\75\61\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\47\134\164\167\150\151\154\145\40\133\40\55\144\40\42\44\144\151\162\55\44\151\42\40\135\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\47\134\164\144\157\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\47\134\164\134\164\151\75\44\50\50\151\53\61\51\51\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\47\134\164\144\157\156\145\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\47\134\164\144\151\162\75\42\44\144\151\162\55\44\151\42\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\47\146\151\134\156\134\156\47\40\76\76\40\44\146\151\154\145\12\12\160\162\151\156\164\146\40\47\43\40\124\167\157\162\172\145\156\151\145\40\153\141\164\141\154\157\147\165\54\40\141\40\156\141\163\164\145\160\156\151\145\40\163\160\162\141\167\144\172\145\156\151\145\54\40\143\172\171\40\163\151\145\40\144\157\142\162\172\145\40\165\164\167\157\162\172\171\154\56\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\47\160\162\151\156\164\146\40\42\124\167\157\162\172\145\156\151\145\40\153\141\164\141\154\157\147\165\40\44\144\151\162\40\55\76\40\42\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\47\155\153\144\151\162\40\42\44\144\151\162\42\134\156\134\156\47\40\76\76\40\44\146\151\154\145\12\12\160\162\151\156\164\146\40\47\151\146\40\133\40\55\144\40\42\44\144\151\162\42\40\135\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\47\164\150\145\156\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\47\134\164\160\162\151\156\164\146\40\42\117\113\134\134\156\42\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\47\145\154\163\145\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\47\134\164\160\162\151\156\164\146\40\42\50\41\51\105\122\122\117\122\50\41\51\134\134\156\42\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\47\134\164\145\170\151\164\40\61\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\47\146\151\134\156\47\40\76\76\40\44\146\151\154\145\12\12\12\141\162\143\150\151\166\145\40\50\51\40\173\12\40\40\40\40\43\163\160\162\141\167\144\172\145\156\151\145\54\40\143\172\171\40\160\154\151\153\40\152\145\163\164\40\146\157\154\144\145\162\145\155\56\40\112\145\163\154\151\40\164\141\153\54\40\164\157\40\162\145\153\165\162\145\156\143\171\152\156\151\145\40\141\162\143\150\151\167\151\172\165\152\145\155\171\40\152\145\147\157\40\160\154\151\153\151\56\12\40\40\40\40\151\146\40\133\40\55\144\40\44\61\40\135\40\12\40\40\40\40\164\150\145\156\12\40\40\40\40\40\40\40\40\146\157\162\40\146\40\151\156\40\44\50\154\163\40\44\61\51\12\40\40\40\40\40\40\40\40\144\157\12\40\40\40\40\40\40\40\40\40\40\40\40\141\162\143\150\151\166\145\40\42\44\61\57\44\146\42\40\44\62\12\40\40\40\40\40\40\40\40\144\157\156\145\12\40\40\40\40\145\154\151\146\40\133\40\55\146\40\44\61\40\135\40\40\12\40\40\40\40\164\150\145\156\12\40\40\40\40\40\40\40\40\76\46\62\40\160\162\151\156\164\146\40\42\101\162\143\150\151\167\151\172\141\143\152\141\40\160\154\151\153\165\40\44\61\56\56\56\134\156\42\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\42\134\156\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\40\44\61\40\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\43\134\156\134\156\42\40\76\76\40\44\62\12\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\42\43\40\127\171\154\165\163\153\141\156\151\145\40\47\163\143\151\145\172\153\151\40\153\141\164\141\154\157\147\165\40\160\154\151\153\165\47\40\172\40\47\163\143\151\145\172\153\151\40\160\154\151\153\165\47\56\134\156\42\40\76\76\40\44\62\40\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\42\147\145\164\144\151\162\75\134\42\44\173\61\45\57\52\175\134\42\134\156\42\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\151\146\40\133\40\42\44\147\145\164\144\151\162\42\40\75\40\42\47\42\44\61\42\47\42\40\135\134\156\47\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\164\150\145\156\134\156\47\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\134\164\147\145\164\144\151\162\75\42\56\42\134\156\47\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\146\151\134\156\134\156\47\40\76\76\40\44\62\12\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\42\43\40\113\141\164\141\154\157\147\40\156\157\167\145\147\157\40\160\154\151\153\165\40\75\40\47\153\141\164\141\154\157\147\40\144\157\40\153\164\157\162\145\147\157\40\167\171\160\141\153\157\167\165\152\145\155\171\40\160\154\151\153\47\53\47\57\47\53\47\163\164\141\162\171\40\153\141\164\141\154\157\147\40\160\154\151\153\165\47\56\134\156\42\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\146\151\154\145\144\151\162\75\42\44\144\151\162\57\44\147\145\164\144\151\162\42\134\156\134\156\47\40\76\76\40\44\62\12\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\42\43\40\112\145\172\145\154\151\40\147\157\40\156\151\145\40\155\141\54\40\164\157\40\156\141\154\145\172\171\40\147\157\40\165\164\167\157\162\172\171\143\56\134\156\42\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\151\146\40\133\40\41\40\55\144\40\42\44\146\151\154\145\144\151\162\42\40\135\134\156\47\40\76\76\40\44\62\40\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\164\150\145\156\134\156\47\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\134\164\160\162\151\156\164\146\40\42\134\134\156\124\167\157\162\172\145\156\151\145\40\153\141\164\141\154\157\147\165\40\44\146\151\154\145\144\151\162\40\55\76\40\42\134\156\47\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\134\164\155\153\144\151\162\40\55\160\40\42\44\146\151\154\145\144\151\162\42\134\156\47\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\134\164\151\146\40\133\40\55\144\40\42\44\146\151\154\145\144\151\162\42\40\135\134\156\47\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\134\164\164\150\145\156\134\156\47\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\134\164\134\164\160\162\151\156\164\146\40\42\117\113\134\134\156\42\134\156\47\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\134\164\145\154\163\145\134\156\47\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\134\164\134\164\160\162\151\156\164\146\40\42\50\41\51\105\122\122\117\122\50\41\51\134\134\156\42\134\156\47\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\134\164\146\151\134\156\47\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\146\151\134\156\134\156\47\40\76\76\40\44\62\12\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\160\162\151\156\164\146\40\42\127\171\160\141\153\157\167\171\167\141\156\151\145\40\160\154\151\153\165\40\44\144\151\162\57\47\42\44\61\40\55\76\40\134\42\134\156\134\156\42\40\76\76\40\44\62\12\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\42\43\40\112\145\144\156\141\40\144\154\165\147\141\40\154\151\156\151\152\153\141\40\167\153\154\141\144\141\152\141\143\141\40\144\157\40\167\171\152\163\143\151\157\167\145\147\157\40\160\154\151\153\165\40\142\141\152\164\171\40\157\162\171\147\151\156\141\154\156\145\147\157\40\160\154\151\153\165\40\172\141\160\151\163\141\156\145\40\163\172\145\163\156\141\163\164\153\157\167\157\56\134\156\42\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\160\162\151\156\164\146\40\42\47\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\145\166\141\154\40\44\157\143\164\144\165\155\160\40\44\61\40\174\40\141\167\153\40\47\173\160\162\151\156\164\146\40\42\134\134\45\163\42\54\40\44\61\175\47\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\42\40\76\40\44\144\151\162\57\47\42\44\61\134\156\134\156\42\40\76\76\40\44\62\12\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\43\40\123\160\162\141\167\144\172\145\156\151\145\54\40\143\172\171\40\160\154\151\153\40\163\151\145\40\165\164\167\157\162\172\171\154\56\134\156\47\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\151\146\40\133\40\41\40\55\146\40\42\44\144\151\162\57\47\42\44\61\134\42\40\135\134\156\42\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\42\164\150\145\156\134\156\42\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\134\164\160\162\151\156\164\146\40\42\50\41\51\105\122\122\117\122\50\41\51\56\40\116\141\163\164\145\160\165\152\145\40\153\157\156\164\171\156\165\141\143\152\141\56\134\134\156\42\134\156\47\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\145\154\163\145\134\156\47\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\134\164\160\162\151\156\164\146\40\42\117\113\54\40\115\104\65\40\103\110\105\103\113\40\55\76\40\42\134\156\47\40\76\76\40\44\62\12\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\134\164\43\40\120\162\172\171\172\156\141\156\151\145\40\160\154\151\153\157\167\151\40\167\154\141\163\143\151\167\171\143\150\40\141\164\162\171\142\165\164\157\167\134\156\47\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\42\134\164\143\150\155\157\144\40\44\50\163\164\141\164\40\55\143\40\45\141\40\44\61\51\40\42\47\42\44\144\151\162\57\47\42\44\61\134\42\134\156\42\40\76\76\40\44\62\12\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\134\164\43\40\123\160\162\141\167\144\172\145\156\151\145\40\172\147\157\144\156\157\163\143\151\40\163\165\155\171\40\153\157\156\164\162\157\154\156\145\152\40\50\152\145\172\145\154\151\40\152\145\163\164\51\40\172\141\167\141\162\164\157\163\143\151\40\165\164\167\157\162\172\157\156\145\147\157\40\160\154\151\153\165\40\172\40\157\162\171\147\151\156\141\154\156\141\56\134\156\47\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\134\164\151\146\40\133\40\41\40\55\172\40\42\44\155\144\65\42\40\135\134\156\47\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\134\164\164\150\145\156\134\156\47\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\134\164\134\164\151\146\40\133\40\42\44\50\44\155\144\65\40\44\144\151\162\57\47\42\44\61\42\42\40\174\40\141\167\153\40\47\173\40\160\162\151\156\164\146\40\42\47\44\61\47\42\40\175\47\42\47\51\42\40\75\40\42\47\42\44\50\155\144\65\163\165\155\40\55\142\40\44\61\40\174\40\141\167\153\40\47\173\160\162\151\156\164\146\40\44\61\175\47\51\134\42\40\135\134\156\42\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\134\164\134\164\164\150\145\156\134\156\47\40\76\76\40\44\62\40\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\134\164\134\164\134\164\160\162\151\156\164\146\40\42\117\113\134\134\156\42\134\156\47\40\76\76\40\44\62\40\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\134\164\134\164\145\154\163\145\134\156\47\40\76\76\40\44\62\40\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\134\164\134\164\134\164\160\162\151\156\164\146\40\42\50\41\51\127\122\117\116\107\50\41\51\134\134\156\42\134\156\47\40\76\76\40\44\62\40\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\134\164\134\164\146\151\134\156\47\40\76\76\40\44\62\40\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\134\164\145\154\163\145\134\156\47\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\134\164\134\164\160\162\151\156\164\146\40\42\50\77\51\115\111\123\123\111\116\107\50\77\51\134\134\156\42\134\156\47\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\134\164\146\151\134\156\47\40\76\76\40\44\62\12\40\40\40\40\40\40\40\40\160\162\151\156\164\146\40\47\146\151\134\156\47\40\76\76\40\44\62\40\12\40\40\40\40\145\154\163\145\12\40\40\40\40\40\40\40\40\76\46\62\40\160\162\151\156\164\146\40\42\120\154\151\153\40\44\61\40\156\151\145\40\151\163\164\156\151\145\152\145\56\40\116\141\163\164\145\160\165\152\145\40\153\157\156\164\171\156\165\141\143\152\141\56\56\56\134\156\42\12\40\40\40\40\146\151\12\175\12\12\43\151\164\145\162\165\152\141\143\40\160\157\40\141\162\147\165\155\145\156\164\141\143\150\40\163\153\162\171\160\164\165\40\165\162\165\143\150\141\155\151\141\155\171\40\146\165\156\153\143\152\145\40\141\162\143\150\151\166\145\12\146\157\162\40\166\141\162\40\151\156\40\42\44\100\42\40\12\144\157\12\40\40\40\40\141\162\143\150\151\166\145\40\44\166\141\162\40\44\146\151\154\145\12\144\157\156\145\12\12\160\162\151\156\164\146\40\47\134\156\160\162\151\156\164\146\40\42\134\134\156\127\171\160\141\153\157\167\171\167\141\156\151\145\40\172\141\153\157\156\143\172\157\156\145\56\40\72\51\134\134\156\42\134\156\134\156\47\40\76\76\40\44\146\151\154\145\12\160\162\151\156\164\146\40\47\145\170\151\164\40\60\134\156\47\40\76\76\40\44\146\151\154\145\12\12\76\46\62\40\160\162\151\156\164\146\40\42\134\156\101\162\143\150\151\167\165\155\40\163\141\155\157\167\171\160\141\153\157\167\165\152\141\143\145\40\44\146\151\154\145\40\172\157\163\164\141\154\157\40\167\171\147\145\156\145\162\157\167\141\156\145\56\40\72\51\134\156\42\12\12\145\170\151\164\40\60" > $dir/qshar

# Sprawdzenie, czy plik sie utworzyl.
if [ ! -f "$dir/qshar" ]
then
	printf "(!)ERROR(!). Nastepuje kontynuacja.\n"
else
	printf "OK, MD5 CHECK -> "
	# Przyznanie plikowi wlasciwych atrybutow
	chmod 755 "$dir/qshar"
	# Sprawdzenie zgodnosci sumy kontrolnej (jezeli jest) zawartosci utworzonego pliku z oryginalna.
	if [ ! -z "$md5" ]
	then
		if [ "$($md5 $dir/qshar | awk '{ printf $1 }')" = "5946b24f19390d4caaba57dc907338a9" ]
		then
			printf "OK\n"
		else
			printf "(!)WRONG(!)\n"
		fi
	else
		printf "(?)MISSING(?)\n"
	fi
fi

############################################# qshar.1 #############################################

# Wyluskanie 'sciezki katalogu pliku' z 'sciezki pliku'.
getdir="qshar.1"
if [ "$getdir" = "qshar.1" ]
then
	getdir="."
fi

# Katalog nowego pliku = 'katalog do ktorego wypakowujemy plik'+'/'+'stary katalog pliku'.
filedir="$dir/$getdir"

# Jezeli go nie ma, to nalezy go utworzyc.
if [ ! -d "$filedir" ]
then
	printf "\nTworzenie katalogu $filedir -> "
	mkdir -p "$filedir"
	if [ -d "$filedir" ]
	then
		printf "OK\n"
	else
		printf "(!)ERROR(!)\n"
	fi
fi

printf "Wypakowywanie pliku $dir/qshar.1 -> "

# Jedna dluga linijka wkladajaca do wyjsciowego pliku bajty oryginalnego pliku zapisane szesnastkowo.
printf "\56\124\110\40\161\163\150\141\162\40\61\40\42\60\66\40\107\162\165\144\156\151\141\54\40\101\104\40\62\60\61\70\42\40\42\127\145\162\163\152\141\40\61\56\66\42\40\42\161\163\150\141\162\42\12\12\56\123\110\40\116\101\132\127\101\12\161\163\150\141\162\40\134\55\40\123\153\162\171\160\164\40\141\162\143\150\151\167\151\172\165\152\304\205\143\171\40\160\154\151\153\151\54\40\153\164\303\263\162\171\40\147\145\156\145\162\165\152\145\40\167\171\153\157\156\171\167\141\154\156\171\40\163\153\162\171\160\164\40\167\171\160\141\153\157\167\165\152\304\205\143\171\56\12\12\56\123\110\40\123\113\305\201\101\104\116\111\101\12\56\102\40\161\163\150\141\162\12\56\111\40\116\101\132\127\101\137\101\122\103\110\111\127\125\115\40\114\111\123\124\101\137\120\114\111\113\117\127\12\12\56\123\110\40\117\120\111\123\12\56\102\40\161\163\150\141\162\40\12\152\145\163\164\40\167\305\202\141\163\156\304\205\40\151\155\160\154\145\155\145\156\164\141\143\152\304\205\40\160\162\157\147\162\141\155\165\40\144\157\40\141\162\143\150\151\167\151\172\141\143\152\151\40\160\154\151\153\157\167\40\167\40\163\153\162\171\160\164\40\160\157\167\305\202\157\153\151\40\163\171\163\164\145\155\157\167\145\152\54\40\151\156\163\160\151\162\157\167\141\156\171\40\160\162\157\147\162\141\155\145\155\12\56\102\40\163\150\141\162\12\172\12\56\102\40\163\150\141\162\165\164\151\154\163\56\12\56\120\120\12\127\171\156\151\153\151\145\155\40\141\162\143\150\151\167\151\172\141\143\152\151\40\152\145\163\164\40\163\153\162\171\160\164\40\167\171\153\157\156\171\167\141\154\156\171\54\40\153\164\303\263\162\171\40\155\157\305\274\145\40\172\157\163\164\141\304\207\40\165\162\165\143\150\157\155\151\157\156\171\40\160\162\172\145\172\12\56\111\40\57\142\151\156\57\163\150\12\143\145\154\145\155\40\167\171\160\141\153\157\167\141\156\151\141\56\12\56\120\120\12\123\153\162\171\160\164\40\157\142\163\305\202\165\147\165\152\145\40\141\162\143\150\151\167\151\172\141\143\152\304\231\40\160\154\151\153\303\263\167\40\151\40\153\141\164\141\154\157\147\303\263\167\56\40\104\154\141\40\153\141\305\274\144\145\147\157\40\160\154\151\153\165\40\172\141\155\151\145\156\151\141\40\157\156\40\167\163\172\171\163\164\153\151\145\40\152\145\147\157\40\142\141\152\164\171\12\156\141\40\303\263\163\145\155\153\157\167\171\40\146\157\162\155\141\164\40\157\142\163\305\202\165\147\151\167\141\156\171\40\160\162\172\145\172\12\56\102\40\160\162\151\156\164\146\12\157\162\141\172\40\172\141\160\151\163\165\152\145\40\152\145\147\157\40\141\164\162\171\142\165\164\171\40\151\40\163\165\155\304\231\40\153\157\156\164\162\157\154\156\304\205\40\167\171\154\151\143\172\156\157\156\304\205\40\160\162\172\145\172\12\56\102\40\155\144\65\163\165\155\12\50\153\164\303\263\162\141\40\155\157\305\274\145\40\172\157\163\164\141\304\207\40\160\157\155\151\156\151\304\231\164\141\54\40\152\145\305\274\145\154\151\40\167\171\160\141\153\157\167\165\152\304\205\143\171\40\156\151\145\40\160\157\163\151\141\144\141\40\164\145\147\157\40\160\162\157\147\162\141\155\165\51\56\12\56\120\120\12\56\102\40\161\163\150\141\162\12\167\171\155\141\147\141\40\160\157\163\151\141\144\141\156\151\141\40\143\157\40\156\141\152\155\156\151\145\152\40\152\145\144\156\145\147\157\40\172\40\156\141\163\164\304\231\160\165\152\304\205\143\171\143\150\40\160\162\157\147\162\141\155\303\263\167\72\12\56\102\40\150\145\170\144\165\155\160\12\154\165\142\12\56\102\40\157\144\12\143\145\154\145\155\40\172\141\153\157\144\157\167\141\156\151\141\40\160\154\151\153\303\263\167\40\167\145\152\305\233\143\151\157\167\171\143\150\56\12\56\120\120\12\111\144\145\304\205\40\160\162\157\147\162\141\155\165\40\152\145\163\164\54\40\305\274\145\142\171\40\167\171\156\151\153\157\167\171\40\163\153\162\171\160\164\40\142\171\305\202\40\152\141\153\40\156\141\152\160\162\157\163\164\163\172\171\40\151\40\152\141\153\40\156\141\152\155\156\151\145\152\40\172\141\154\145\305\274\156\171\40\157\144\40\172\145\167\156\304\231\164\162\172\156\171\143\150\40\160\162\157\147\162\141\155\303\263\167\56\40\116\141\40\143\150\167\151\154\304\231\40\157\142\145\143\156\304\205\40\167\171\155\141\147\141\72\40\12\56\111\40\151\146\12\56\111\40\167\150\151\154\145\12\56\102\40\155\153\144\151\162\12\56\102\40\143\150\155\157\144\12\56\102\40\160\162\151\156\164\146\12\157\162\141\172\40\50\157\160\143\152\157\156\141\154\156\151\145\51\12\56\102\40\155\144\65\163\165\155\12\12\56\123\110\40\101\122\107\125\115\105\116\124\131\12\117\142\145\143\156\151\145\12\56\102\40\161\163\150\141\162\12\156\151\145\40\160\162\172\171\152\155\165\152\145\40\305\274\141\144\156\171\143\150\40\141\162\147\165\155\145\156\164\303\263\167\54\40\141\154\145\40\172\40\143\172\141\163\145\155\40\155\157\305\274\145\40\164\157\40\165\154\145\143\40\172\155\151\141\156\151\145\56\12\12\56\123\110\40\120\122\132\131\113\305\201\101\104\131\12\61\56\40\123\160\141\153\157\167\141\156\151\145\40\152\145\144\156\145\147\157\40\160\154\151\153\165\40\12\56\111\40\155\141\151\156\56\143\12\144\157\40\141\162\143\150\151\167\165\155\40\157\40\156\141\172\167\151\145\12\56\111\40\141\162\143\150\151\167\165\155\12\56\120\120\12\56\122\123\12\56\102\40\161\163\150\141\162\12\141\162\143\150\151\167\165\155\40\155\141\151\156\56\143\12\56\122\105\12\56\120\120\12\62\56\40\123\160\141\153\157\167\141\156\151\145\40\153\141\164\141\154\157\147\165\12\56\111\40\144\151\162\12\144\157\40\141\162\143\150\151\167\165\155\12\56\111\40\141\162\12\56\120\120\12\56\122\123\12\56\102\40\161\163\150\141\162\12\141\162\40\144\151\162\12\56\122\105\12\56\120\120\12\63\56\40\123\160\141\153\157\167\141\156\151\145\40\167\163\172\171\163\164\153\151\143\150\40\160\154\151\153\157\167\40\50\151\40\153\141\164\141\154\157\147\157\167\51\40\167\40\157\142\145\143\156\171\155\40\153\141\164\141\154\157\147\165\40\144\157\12\56\111\40\141\162\143\150\151\167\165\155\12\56\120\120\12\56\122\123\12\56\102\40\161\163\150\141\162\12\141\162\143\150\151\167\165\155\40\52\12\56\122\105\12\12\56\123\110\40\132\117\102\101\103\132\40\124\101\113\305\273\105\12\56\102\40\163\150\141\162\50\61\51\12\12\56\123\110\40\101\125\124\117\122\12\161\165\145\164\172\145\154\143\157\141\164\154\165\163\40\50\150\164\164\160\163\72\57\57\147\151\164\150\165\142\56\143\157\155\57\161\165\145\164\172\145\154\143\157\141\164\154\165\163\51" > $dir/qshar.1

# Sprawdzenie, czy plik sie utworzyl.
if [ ! -f "$dir/qshar.1" ]
then
	printf "(!)ERROR(!). Nastepuje kontynuacja.\n"
else
	printf "OK, MD5 CHECK -> "
	# Przyznanie plikowi wlasciwych atrybutow
	chmod 644 "$dir/qshar.1"
	# Sprawdzenie zgodnosci sumy kontrolnej (jezeli jest) zawartosci utworzonego pliku z oryginalna.
	if [ ! -z "$md5" ]
	then
		if [ "$($md5 $dir/qshar.1 | awk '{ printf $1 }')" = "8e02ed278a485af5a887b2ae0f0b706c" ]
		then
			printf "OK\n"
		else
			printf "(!)WRONG(!)\n"
		fi
	else
		printf "(?)MISSING(?)\n"
	fi
fi

printf "\nWypakowywanie zakonczone. :)\n"


# Ponizej znajduja sie "recznie" dopisane komendy instalujace:
printf "\nKopiowanie qshar do /usr/bin...\n"
sudo cp -f $dir/qshar /usr/bin/qshar

printf "Tworzenie podrecznika man dla qshar...\n"
sudo cp -f $dir/qshar.1 /usr/share/man/man1/qshar.1
sudo gzip -f /usr/share/man/man1/qshar.1

printf "Usuwanie folderu $dir...\n"
rm -rf $dir
printf "Instalacja zakonczona. :)\n"
